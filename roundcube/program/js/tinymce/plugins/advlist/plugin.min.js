!function(){"use strict";function s(o,r){return function(t){var n=t.control;o.on("NodeChange",function(t){var e=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t.parents,l),t=-1!==e?t.parents.slice(0,e):t.parents,t=i.grep(t,c(o));n.active(0<t.length&&t[0].nodeName===r)})}}function a(e,t,n,o,r,i){var l;e.addButton(t,{active:!1,type:"splitbutton",tooltip:n,menu:f(i),onPostRender:s(e,r),onshow:(l=e,function(t){var e=d(l);t.control.items().each(function(t){t.active(t.settings.data===e)})}),onselect:function(t){u(e,r,t.control.settings.data)},onclick:function(){e.execCommand(o)}})}function e(t,e,n,o,r,i){var l,u;0<i.length?a(t,e,n,o,r,i):(e=e,n=n,u=o,r=r,(l=t).addButton(e,{active:!1,type:"button",tooltip:n,onPostRender:s(l,r),onclick:function(){l.execCommand(u)}}))}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=function(t,e,n){e="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(e,!1,!1===n?null:{"list-style-type":n})},n=function(n){n.addCommand("ApplyUnorderedListStyle",function(t,e){u(n,"UL",e["list-style-type"])}),n.addCommand("ApplyOrderedListStyle",function(t,e){u(n,"OL",e["list-style-type"])})},o=function(t){t=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},r=function(t){t=t.getParam("advlist_bullet_styles","default,circle,disc,square");return t?t.split(/[ ,]/):[]},l=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},c=function(n){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(e=t,(t=n).$.contains(t.getBody(),e));var e}},d=function(t){var e=t.dom.getParent(t.selection.getNode(),"ol,ul");return t.dom.getStyle(e,"listStyleType")||""},f=function(t){return i.map(t,function(t){return{text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()}),data:"default"===t?"":t}})},p=function(t){e(t,"numlist","Numbered list","InsertOrderedList","OL",o(t)),e(t,"bullist","Bullet list","InsertUnorderedList","UL",r(t))};t.add("advlist",function(t){!function(t,e){t=t.settings.plugins||"";return-1!==i.inArray(t.split(/[ ,]/),e)}(t,"lists")||(p(t),n(t))})}();