!function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(n,e){var t,t=!!(t=n).plugins.visualchars&&t.plugins.visualchars.isEnabled()?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";n.insertContent(function(n,e){for(var t="",o=0;o<e;o++)t+=n;return t}(t,e)),n.dom.setAttrib(n.dom.select("span.mce-nbsp"),"data-mce-bogus","1")},e=function(n){n.addCommand("mceNonBreaking",function(){o(n,1)})},a=tinymce.util.Tools.resolve("tinymce.util.VK"),i=function(n){n=n.getParam("nonbreaking_force_tab",0);return"boolean"==typeof n?!0===n?3:0:n},t=function(e){var t=i(e);0<t&&e.on("keydown",function(n){n.keyCode!==a.TAB||n.isDefaultPrevented()||n.shiftKey||(n.preventDefault(),n.stopImmediatePropagation(),o(e,t))})},r=function(n){n.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),n.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};n.add("nonbreaking",function(n){e(n),r(n),t(n)})}();